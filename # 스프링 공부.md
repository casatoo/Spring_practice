# 스프링 공부 위키

- [뉴렉쳐 강의](https://youtu.be/WjsDN_aFfyw)

## 2022.08.01

- 스프링의 기능 
	- DI(Dependency Injection) 의존성 주입 / 부품조립
	- IoC 컨테이너 (Inversion of Control)
		- 부품들을 담는 컨테이너 조립을 원하면 조립까지
		- 작은부품을 만들고 큰부품에 결합해나간다.
	- 조립순서가 역순으로 이루어져서 IoC 라고 명명

```java
B b = new B();  // Dependency
A a = new A();

a.setB(b);  // Injection
```

- Setter Injection
```java
B b = new B();
A a = new A();

a.setB(b);
```
- Construction Injection
```java
B b = new B();
A a = new A(b);
```

XML로 주문서 작성해보기

이클립스 - help - eclipce market place - spring 검색
spring 3 add-on  설치가 안됨..
구글링으로 문제 해결
- [spring 3 add-on 에러 해결](https://wildwolf.tistory.com/entry/%EC%8A%A4%ED%94%84%EB%A7%81-%EB%8B%A4%EC%9A%B4%EB%B0%9B%EA%B3%A0-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0)

-  Help->> 인스톨뉴 소프트웨어-->> 검색
-  https://download.eclipse.org/releases/2021-09 
-  전부 설치


## 2022.08.02

-  spring.di 패키지에 Spring Bean Configuration File 형식의 setting.Xml파일 생성

```java
	Exam exam = new NewlecExam();
	ExamConsole console = new GridExamConsole();
		
	console.setExam(exam);
```
위의 내용은 이제 스프링을 사용해 지시하는 방법으로 코드를 수정할것임

- setting.xml 파일로 들어가서 내용을 추가해준다.
```xml
<!--Exam exam = new NewlecExam(); -->
	<bean id="exam" class="spring.di.entity.NewlecExam"></bean>
	<!--ExamConsole console = new GridExamConsole();-->
	<bean id="console" class="spring.di.ui.GridExamConsole">
		<!--console.setExam(exam); -->
		<property name="exam" ref="exam"></property>
	</bean>
```
- 몇가지 규칙을 기억하자
	- 생성규칙
		- bean이라는 엘리먼트를 생성하고 그 안에 id, class 를 작성해준다.
		- id 는 생성하고자하는 객체의 이름
		- class 는 객체의 패키지 주소.객체속성
	- 조립규칙
		- 사용하고자 하는 객체의 엘리먼트 내용으로 작성한다.
		- property 라는 엘리먼트 생성
		- name 은 메소드앞의 set을 빼고 뒤의 대문자 Exam 을 소문자로 변경 exam
		- 삽입되는 내용이 값이면 value ="" 안에 값을 작성
		- 삽입되는 내용이 레퍼런스면 ref ="" 안에 값을 작성

- 이제 작성한 Xml 주문서를 program에 적용해보자
	- 먼저 java 형식의 프로젝트를 maven 프로젝트로 컨버트 해준다.
	- 프로젝트 우클릭- configure - convert maven project
	- 스프링 프레임워크 라이브러리를 호출하기 위한 작업
		- 구글에 maven repository 검색
		- 검색창에 Spring Context 검색
		- 최신버전 선택 2022.08.02 기준 5.3.22
		- 내용에 나오는 코드를 복사 (클릭하면 자동으로 복사됨) 
		```xml
		<!-- https://mvnrepository.com/artifact/org.springframework/spring-context -->
		<dependency>
    		<groupId>org.springframework</groupId>
    		<artifactId>spring-context</artifactId>
    		<version>5.3.22</version>
		</dependency>
		```
		- form.xml 형식 파일에 편집
		- <dependencies> 엘리먼트 를 버전과 빌드 사이에 생성하고 내용에 위의 태그를 붙여넣기
		- 저장하면 라이브러리를 자동으로 다운받는다.
	- program에 주문서 호출을 위한코드 작성
	```java
		ApplicationContext context = new ClassPathXmlApplicationContext("spring/di/setting.xml");
		
		//ExamConsole console = (ExamConsole) context.getBean("console");
		ExamConsole console = context.getBean(ExamConsole.class);
		console.print();
	```
	- context 라는 IoC container 를 생성하는데 뒤에 src에서 불러올 주문서의 주소를 작성
	- 컨테이너의 구성요소를 호출하는 방법은 두가지가 있다.
		- 자주 쓰이고 깔끔한 방법인 2번째 줄의 방법을 사용한다.
		- xml 주문서 안에 내용을 Bean 엘리먼트로 작성하였으니 getBean으로 호출해준다.
		- 주문서 내용을 console 클래스에서 GridExamconsole 을 Inline으로만 변경해줘도 Grid 에서 Inline 으로 출력이 가능해졌다.
		

